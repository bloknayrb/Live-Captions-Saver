{"version":3,"file":"popup.bundle.js","mappings":"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","sources":["webpack://ms-teams-captions-saver/./teams-captions-saver/popup.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    // Code inside this block will execute after the extension is fully loaded\r\n    console.log('popup.js loaded!');\r\n    \r\n    // Centralized error handling for popup\r\n    function handlePopupError(error, context) {\r\n        console.error(`[Popup Error - ${context}]:`, error);\r\n        // Could show user-friendly error message\r\n        alert(`Error: ${error.message || 'Something went wrong'}`);\r\n    }\r\n    \r\n    // Safe message sending with error handling\r\n    function sendMessageSafely(message, callback) {\r\n        try {\r\n            chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\r\n                if (chrome.runtime.lastError) {\r\n                    handlePopupError(new Error(chrome.runtime.lastError.message), 'tab-query');\r\n                    return;\r\n                }\r\n                \r\n                if (!tabs || tabs.length === 0) {\r\n                    handlePopupError(new Error('No active tab found'), 'tab-query');\r\n                    return;\r\n                }\r\n                \r\n                chrome.tabs.sendMessage(tabs[0].id, message, function(response) {\r\n                    if (chrome.runtime.lastError) {\r\n                        handlePopupError(new Error(chrome.runtime.lastError.message), 'message-send');\r\n                        return;\r\n                    }\r\n                    \r\n                    if (callback) {\r\n                        callback(response);\r\n                    }\r\n                });\r\n            });\r\n        } catch (error) {\r\n            handlePopupError(error, 'message-send');\r\n        }\r\n    }\r\n\r\n    document.getElementById('saveButton').addEventListener('click', function () {\r\n        console.log('save_captions clicked!');\r\n        sendMessageSafely({message: \"return_transcript\"});\r\n    });\r\n\r\n    document.getElementById('viewButton').addEventListener('click', function () {\r\n        console.log('view_captions clicked!');\r\n        sendMessageSafely({message: \"get_captions_for_viewing\"});\r\n    });\r\n\r\n    document.getElementById('clearButton').addEventListener('click', function () {\r\n        console.log('clear_transcript clicked!');\r\n        \r\n        sendMessageSafely({message: \"clear_transcript\"}, function(response) {\r\n            if (response && response.success) {\r\n                console.log('Transcript cleared successfully');\r\n                // Show a brief confirmation\r\n                const button = document.getElementById('clearButton');\r\n                const originalText = button.textContent;\r\n                const originalColor = button.style.backgroundColor;\r\n                \r\n                button.textContent = 'Cleared!';\r\n                button.style.backgroundColor = '#28a745';\r\n                button.disabled = true;\r\n                \r\n                setTimeout(() => {\r\n                    button.textContent = originalText;\r\n                    button.style.backgroundColor = originalColor || '#dc3545';\r\n                    button.disabled = false;\r\n                }, 1500);\r\n            } else {\r\n                const errorMsg = response?.error || 'Unknown error occurred';\r\n                handlePopupError(new Error(errorMsg), 'clear-transcript');\r\n            }\r\n        });\r\n    });\r\n});"],"names":["document","addEventListener","console","log","handlePopupError","error","context","alert","message","sendMessageSafely","callback","chrome","tabs","query","active","currentWindow","runtime","lastError","Error","length","sendMessage","id","response","getElementById","success","button","originalText","textContent","originalColor","style","backgroundColor","disabled","setTimeout","errorMsg"],"sourceRoot":""}